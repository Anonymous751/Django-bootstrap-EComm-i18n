<style>
/* =================== VARIABLES =================== */
:root {
  --sidebar-bg: linear-gradient(180deg, #083a4f, #0a607d);
  --sidebar-text: #ffffff;
  --sidebar-item-text: #e0f2ff;
  --sidebar-item-hover-bg: rgba(255, 255, 255, 0.1);
  --sidebar-item-hover-text: #ffffff;
  --sidebar-item-active-bg: #00c6ff;
  --sidebar-item-active-text: #083a4f;
  --sidebar-item-active-shadow: rgba(0, 198, 255, 0.4);
  --sidebar-item-icon: #00c6ff;
  --sidebar-item-danger-text: #ff6b6b;
  --sidebar-item-danger-hover-bg: rgba(255, 107, 107, 0.1);
}

/* Dark mode override */
[data-theme="dark"] {
  --sidebar-bg: linear-gradient(180deg, #1b1f36, #2c3150);
  --sidebar-text: #ffffff;
  --sidebar-item-text: #cbd5e1;
  --sidebar-item-hover-bg: rgba(255, 255, 255, 0.1);
  --sidebar-item-hover-text: #ffffff;
  --sidebar-item-active-bg: #673ab7;
  --sidebar-item-active-text: #ffffff;
  --sidebar-item-active-shadow: rgba(103, 58, 183, 0.4);
  --sidebar-item-icon: #ff4081;
  --sidebar-item-danger-text: #ff6b6b;
  --sidebar-item-danger-hover-bg: rgba(255, 107, 107, 0.1);
}

/* =================== SIDEBAR =================== */
.sidebar {
  background: var(--sidebar-bg);
  border-radius: 15px;
  padding: 1rem;
  color: var(--sidebar-text);
  box-shadow: 0 8px 25px rgba(8, 58, 79, 0.2);
  transition: background 0.3s ease, color 0.3s ease;
}

.sidebar .list-group-item {
  background: transparent;
  color: var(--sidebar-item-text);
  border: none;
  font-weight: 500;
  border-radius: 10px;
  margin-bottom: 0.3rem;
  display: flex;
  align-items: center;
  transition: all 0.3s ease;
}

.sidebar .list-group-item i {
  font-size: 1.1rem;
  color: var(--sidebar-item-icon);
  margin-right: 0.6rem;
}

.sidebar .list-group-item:hover {
  background: var(--sidebar-item-hover-bg);
  color: var(--sidebar-item-hover-text);
  transform: translateX(4px);
}

.sidebar .list-group-item.active {
  background: var(--sidebar-item-active-bg) !important;
  color: var(--sidebar-item-active-text) !important;
  font-weight: 600;
  box-shadow: 0 4px 12px var(--sidebar-item-active-shadow);
}

.sidebar .list-group-item.active i {
  color: var(--sidebar-item-active-text);
}

.sidebar .list-group-item.text-danger {
  color: var(--sidebar-item-danger-text);
}

.sidebar .list-group-item.text-danger:hover {
  background: var(--sidebar-item-danger-hover-bg);
  color: var(--sidebar-item-danger-text);
}

/* =================== RESPONSIVE =================== */
@media (max-width: 768px) {
  .sidebar {
    border-radius: 0;
    box-shadow: none;
    background: var(--sidebar-bg);
  }
}
</style>

</style>

{% load i18n %}

<div class="sidebar list-group mb-4 position-sticky" style="top: 1rem;">
  <a href="{% url 'accounts:dashboard' %}"
     class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
    <i class="bi bi-speedometer2"></i> {% trans "Dashboard" %}
  </a>

  <a href="{% url 'my_orders' %}"
     class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'my_orders' %}active{% endif %}">
    <i class="bi bi-bag-check"></i> {% trans "Orders" %}
  </a>

  <a href="{% url 'stock_products_list' %}"
     class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'stock_products_list' %}active{% endif %}">
    <i class="bi bi-box-seam"></i> {% trans "Products" %}
  </a>

  <a href="{% url 'accounts:admin_settings' %}"
     class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'admin_settings' %}active{% endif %}">
    <i class="bi bi-gear"></i> {% trans "Settings" %}
  </a>

  {% if request.user.is_authenticated %}
    <a href="{% url 'accounts:profile' username=request.user.username %}"
       class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
      <i class="bi bi-person-circle"></i> {% trans "My Profile" %}
    </a>
  {% endif %}

  <hr class="my-3 border-light opacity-50">

  {# ==== ADVANCED ONLY ==== #}
  {% if request.user.analytics_level == "Advanced" %}
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'advanced_analytics' %}active{% endif %}" href="{% url 'accounts:advanced_analytics' %}">
      <i class="bi bi-graph-up-arrow"></i> {% trans "Advanced Analytics" %}
    </a>
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'sales_report' %}active{% endif %}" href="{% url 'accounts:sales_report' %}">
      <i class="bi bi-bar-chart"></i> {% trans "Sales Reports" %}
    </a>
  {% endif %}

  {# ==== PROFESSIONAL ONLY ==== #}
  {% if request.user.analytics_level == "Professional" %}
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'advanced_analytics' %}active{% endif %}"
       href="{% url 'accounts:advanced_analytics' %}">
      <i class="bi bi-graph-up-arrow"></i> {% trans "Advanced Analytics" %}
    </a>
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'sales_report' %}active{% endif %}"
       href="{% url 'accounts:sales_report' %}">
      <i class="bi bi-bar-chart"></i> {% trans "Sales Reports" %}
    </a>
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'user_traffic' %}active{% endif %}"
       href="{% url 'accounts:user_traffic' %}">
      <i class="bi bi-people"></i> {% trans "User Traffic" %}
    </a>
    <a class="list-group-item list-group-item-action {% if request.resolver_match.url_name == 'ai_predictions' %}active{% endif %}"
       href="{% url 'accounts:ai_predictions' %}">
      <i class="bi bi-cpu"></i> {% trans "AI Predictions" %}
    </a>
  {% endif %}

  <a href="{% url 'accounts:logout' %}"
     class="list-group-item list-group-item-action text-danger">
    <i class="bi bi-box-arrow-right"></i> {% trans "Logout" %}
  </a>
</div>
